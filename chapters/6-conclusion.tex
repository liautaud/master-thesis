\section*{Conclusion}
\addcontentsline{toc}{section}{Conclusion}

During my six-month internship at Tarides, I was tasked with the design and implementation of a garbage collection scheme for Irmin, a decentralized database library written in OCaml. I spent the first part of the internship getting familiar with the internals of Irmin--both by submitting general-purpose pull requests to the repository and by implementing a simplified model of Irmin from scratch~\cite{irmin-toy-github}; as well as reviewing garbage collection literature to identify the key concepts and algorithms in the field.

I then tried to adapt some of the ideas from literature into a set of garbage collection schemes that would make sense in the context of Irmin. This was a harder problem than expected, because some usual assumptions about garbage collection in the context of memory-managed programming languages did not apply to Git-based data stores like Irmin.

Eventually, I designed and implemented a \textit{modular} tracing collector which allows different Irmin backends to reclaim unreachable objects differently depending on how they store objects; I designed a simple and efficient \textit{concurrent collection} scheme for Git-based data stores by taking advantage of the immutability of most objects; I tried reducing the memory overhead of garbage collection by proposing several \textit{partial collection} schemes with different time and space trade-offs; and I finally spent some time designing and evaluating different implementations of the \texttt{filter} primitive for pack-like backends.

Future work might include porting some of the schemes I implemented in \texttt{irmin-toy} to \texttt{irmin}--which will require dealing with some of the cross-cutting concerns like single-writer-multiple-reader access. Ideally, work on backend filtering strategies should be continued--notably to try and leverage generational information to reduce the runtime and disk overhead of the copying scheme.

\subsection*{Acknowledgments}

As a closing note, I would like to thank my colleagues at Tarides for their warm welcome, especially given this year's unfortunate turn of events; and Clément, Thomas, Craig and Ioana in particular for their help and guidance on Irmin.

\cref{fig:object-graph} is adapted from \url{https://github.com/CraigFe/git-store-diagram/} by Craig Ferguson, and \cref{fig:pack,fig:dict} are drawn from Clément Pascutto's upcoming ICFP talk on Irmin.
